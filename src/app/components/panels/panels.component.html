<div id="mainBody">
    <div class="mat-elevation-z8">
      <div class="title">
        <h2>Panels</h2>
      </div>
       <div class="topbar">
           <button mat-raised-button (click)="openGeneratePanel()" [disabled]="!isAuth"  style="background-color: green;" color="primary">Generate New Panel</button>
           <p  #tasknote style="padding-right: 120px;font-weight: 500;font-size: 16px;">Balance: {{userBalance| currency}}</p>

       </div>
   
       <div class="exportBar">
        <button  mat-raised-button (click)="exporter.exportTable('csv',{fileName:'Licenses ' + myFormattedDate})">CSV</button>
        <button mat-raised-button (click)="exporter.exportTable('xls',{fileName:'Licenses '+ myFormattedDate})">Excel</button>
        <button mat-raised-button [cdkCopyToClipboard]="copyLicenses()">Copy JSON</button>
        <button mat-raised-button (click)="exportPdf()">PDF</button>
        <button mat-raised-button (click)="printTable()">Print</button>
        <input  class="form-control" style="margin-right: 80px;"  type="text" placeholder="Search.." (keyup)="applyFilter($event)">

      </div>
       <table       matTableExporter class="table-responsive" 
       #exporter="matTableExporter" [dataSource]="dataSource" mat-table  matSort>
   
           <ng-container matColumnDef="id">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> ID. </th>
               <td mat-cell *matCellDef="let element"> {{element.id}} </td>
           </ng-container>
   
   
           <ng-container matColumnDef="panelOwnerId">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> Owner ID </th>
               <td mat-cell *matCellDef="let element"> {{element.panelOwnerId}} </td>
           </ng-container>
   
           <ng-container matColumnDef="panelSellerId">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> Seller ID </th>
               <td mat-cell *matCellDef="let element"> {{element.panelSellerId}}  </td>
           </ng-container>
   
   
           <ng-container matColumnDef="isActive">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> Active </th>
               <td mat-cell *matCellDef="let element"> {{element.isActive.toString() | titlecase}}</td>
           </ng-container>
   
   
           <ng-container matColumnDef="balance">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> Balance </th>
               <td mat-cell *matCellDef="let element"> {{element.balance}}</td>
           </ng-container>
   
           <ng-container matColumnDef="createdLicense">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> Created License </th>
               <td mat-cell *matCellDef="let element"> {{element.createdLicense}}</td>
           </ng-container>
   
           
           <ng-container matColumnDef="disable">
               <th mat-header-cell *matHeaderCellDef mat-sort-header>  </th>
               <td mat-cell *matCellDef="let element">   <button mat-raised-button  style="background-color: red;" (click)="openModal(template,element.id)" color="warn">Disable</button> </td>
           </ng-container>
   
   
           <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
           <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
       </table>
  
       <mat-paginator [pageSizeOptions]="[10, 20, 20]" showFirstLastButtons aria-label="Select page of periodic elements">
       </mat-paginator>
       <ng-template #template>
         <div class="modal-body text-center">
           <p>Do you want to disable panel?</p>
           <button
             type="button"
             mat-raised-button
             class="btn btn-default"
             (click)="confirm()"
           >
             Yes
           </button>
           <button
             type="button"
             mat-raised-button
             class="btn btn-primary"
             (click)="decline()"
           >
             No
           </button>
         </div>
       </ng-template>
   </div>
   </div>
   